<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installation Checklist</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #F8F9FA;
            line-height: 1.5;
        }
        
        .header {
            background: #F39C12;
            color: white;
            padding: 16px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            align-items: center;
        }
        
        .back-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            margin-right: 16px;
            padding: 8px;
            border-radius: 8px;
        }
        
        .back-btn:active {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .header-info {
            flex: 1;
        }
        
        .pdf-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 4px;
        }
        
        .pipe-logo {
            display: flex;
            align-items: center;
            gap: 8px;
            color: white;
            font-size: 18px;
            font-weight: bold;
        }
        
        .pipe-main {
            font-weight: 900;
        }
        
        .pipe-sw {
            font-weight: 400;
            opacity: 0.8;
        }
        
        .pipe-size {
            font-size: 12px;
            font-weight: 600;
            background: rgba(255, 255, 255, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .pipe-tagline {
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            opacity: 0.9;
        }
        
        .header-title {
            font-size: 16px;
            font-weight: 600;
            opacity: 0.9;
        }
        
        .progress-container {
            margin-top: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .step-counter {
            font-size: 14px;
            font-weight: 500;
            opacity: 0.9;
        }
        
        .progress-bar {
            flex: 1;
            background: rgba(255, 255, 255, 0.2);
            height: 4px;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .progress-fill {
            background: white;
            height: 100%;
            width: 0%;
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        
        .form-container {
            max-width: 480px;
            margin: 0 auto;
            padding: 16px 16px 80px 16px;
        }
        
        .step-card {
            background: white;
            border-radius: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .step-card.completed {
            background: linear-gradient(135deg, #D4FFDF 0%, #E8F5E8 100%);
            border: 2px solid #27AE60;
        }
        
        .step-card.active {
            border: 2px solid #F39C12;
            box-shadow: 0 4px 30px rgba(243, 156, 18, 0.2);
        }
        
        .step-header {
            padding: 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #F39C12;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            margin-right: 16px;
            flex-shrink: 0;
        }
        
        .step-card.completed .step-number {
            background: #27AE60;
        }
        
        .step-content {
            flex: 1;
        }
        
        .step-title {
            font-size: 16px;
            font-weight: 600;
            color: #2C3E50;
            margin-bottom: 4px;
        }
        
        .step-description {
            font-size: 14px;
            color: #7B8A8B;
            line-height: 1.4;
        }
        
        .step-status {
            margin-left: 12px;
            flex-shrink: 0;
        }
        
        .check-icon {
            width: 24px;
            height: 24px;
            color: #27AE60;
        }
        
        .arrow-icon {
            width: 20px;
            height: 20px;
            color: #BDC3C7;
        }
        
        .step-details {
            padding: 0 20px 20px 20px;
            border-top: 1px solid #E9ECEF;
            margin-top: 16px;
        }
        
        .step-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }
        
        .photo-btn {
            flex: 1;
            padding: 14px 16px;
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E8E 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s ease;
            min-height: 48px;
        }
        
        .photo-btn:active {
            transform: translateY(2px);
        }
        
        .photo-btn.taken {
            background: linear-gradient(135deg, #27AE60 0%, #2ECC71 100%);
        }
        
        .complete-checkbox {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: #F8F9FA;
            border-radius: 12px;
            cursor: pointer;
            margin-top: 16px;
        }
        
        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #BDC3C7;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        
        .checkbox.checked {
            background: #27AE60;
            border-color: #27AE60;
        }
        
        .checkbox-label {
            font-size: 16px;
            font-weight: 500;
            color: #2C3E50;
        }
        
        .photo-gallery {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        
        .photo-thumbnail {
            width: 60px;
            height: 60px;
            background: #E9ECEF;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #7B8A8B;
        }
        
        .bottom-actions {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 16px 20px;
            box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 12px;
        }
        
        .btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            min-height: 56px;
        }
        
        .btn-secondary {
            background: #F8F9FA;
            color: #7B8A8B;
            border: 2px solid #E9ECEF;
        }
        
        .btn-secondary:active {
            background: #E9ECEF;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #F39C12 0%, #E67E22 100%);
            color: white;
        }
        
        .btn-primary:active {
            transform: translateY(2px);
        }
        
        .icon {
            width: 24px;
            height: 24px;
        }
        
        .small-icon {
            width: 16px;
            height: 16px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <button class="back-btn" onclick="window.location.href='mobile-form-groups.html'">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5m7-7l-7 7 7 7"/>
                </svg>
            </button>
            <div class="header-info">
                <div class="pdf-header">
                    <div class="pipe-logo">
                        <span class="pipe-main">PiPe</span><span class="pipe-sw">SW</span>
                        <span class="pipe-size">60|65|75</span>
                    </div>
                    <div class="pipe-tagline">THREADED PUSHFIT UK</div>
                </div>
                <div class="header-title">Installation Checklist</div>
            </div>
        </div>
        <div class="progress-container">
            <div class="step-counter">Step <span id="current-step">1</span> of 16</div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <div class="form-container">
        <div class="step-card completed">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-title">Wall marked out</div>
                    <div class="step-description">Mark correct locations for Zypho placement</div>
                </div>
                <div class="step-status">
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card completed">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-title">Mounting brackets secured</div>
                    <div class="step-description">Zypho mounting brackets suitably secured</div>
                </div>
                <div class="step-status">
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card completed">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-title">Spirit level check - Front</div>
                    <div class="step-description">Spirit level check on front of Zypho</div>
                </div>
                <div class="step-status">
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card completed">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">4</div>
                <div class="step-content">
                    <div class="step-title">Spirit level check - Side</div>
                    <div class="step-description">Spirit level check on side of Zypho</div>
                </div>
                <div class="step-status">
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card active">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">5</div>
                <div class="step-content">
                    <div class="step-title">T-piece assembly</div>
                    <div class="step-description">Assemble T-piece, 45-degree bends and 50-43 mm converter taking care not to deform O-rings</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
            <div class="step-details">
                <div class="step-actions">
                    <button class="photo-btn" onclick="takePhoto(this)">
                        <svg class="small-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                            <circle cx="12" cy="13" r="4"/>
                        </svg>
                        Take Photo
                    </button>
                </div>
                <div class="complete-checkbox" onclick="toggleCheckbox(this)">
                    <div class="checkbox">
                        <svg class="small-icon" style="display: none;" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3">
                            <polyline points="20,6 9,17 4,12"/>
                        </svg>
                    </div>
                    <div class="checkbox-label">Mark as Complete</div>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">6</div>
                <div class="step-content">
                    <div class="step-title">Solvent weld T-piece</div>
                    <div class="step-description">Solvent weld T-piece into top of Zypho in correct alignment</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">7a</div>
                <div class="step-content">
                    <div class="step-title">Pipework to shower drain</div>
                    <div class="step-description">Assemble pipework to shower drain</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">7b</div>
                <div class="step-content">
                    <div class="step-title">Trapless waste reminder</div>
                    <div class="step-description">If not fitting now, place reminder sticker for 2nd fix that a trapless waste (or AAV) must be used</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">8a</div>
                <div class="step-content">
                    <div class="step-title">Fit trap to waste outlet</div>
                    <div class="step-description">Fit suitable trap to waste outlet at base of Zypho. This must be left accessible for future maintenance</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">8b</div>
                <div class="step-content">
                    <div class="step-title">Access method</div>
                    <div class="step-description">Indicated future access method: Rodding point or Access panel</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">9</div>
                <div class="step-content">
                    <div class="step-title">Top brass fitting connection</div>
                    <div class="step-description">Carefully connect brass fitting with O-ring to top of Zypho and fit isolation valve. Label pipework as 'Pre-heated cold - Not drinking water'</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">10</div>
                <div class="step-content">
                    <div class="step-title">Base brass fitting connection</div>
                    <div class="step-description">Carefully connect brass fitting with O-ring to base of Zypho and fit isolation valve and double check-valve/EA-type non-return</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">11</div>
                <div class="step-content">
                    <div class="step-title">Cold water commissioning</div>
                    <div class="step-description">Commission cold water side at full mains pressure to confirm no leaks around any joints. If not on mains water already, pressure test to 2.0 bar</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">12</div>
                <div class="step-content">
                    <div class="step-title">Waste water commissioning</div>
                    <div class="step-description">Commission waste water side to confirm no leaks around any joints, and that water is carried away rapidly from shower tray without any 'glugging'</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">13</div>
                <div class="step-content">
                    <div class="step-title">SAP sticker placement</div>
                    <div class="step-description">Place SAP sticker on hot water source (e.g. boiler or thermal store) for Building Inspector</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">14</div>
                <div class="step-content">
                    <div class="step-title">Registration documents</div>
                    <div class="step-description">Complete Registration documents for SAP (including product serial number)</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">15</div>
                <div class="step-content">
                    <div class="step-title">Installation confirmation</div>
                    <div class="step-description">Confirm that 8c has been FULLY installed OR complete 8d for second fix</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="step-card">
            <div class="step-header" onclick="toggleStep(this)">
                <div class="step-number">16</div>
                <div class="step-content">
                    <div class="step-title">Photos for registration</div>
                    <div class="step-description">Confirm Photo 1 and Photo 2 have been taken in preparation for registration of Zypho installation</div>
                </div>
                <div class="step-status">
                    <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <div class="bottom-actions">
        <button class="btn btn-secondary" onclick="window.location.href='index.html'">Save Progress</button>
        <button class="btn btn-primary" onclick="completeInstallation()">Complete Installation</button>
    </div>

    <script>
        let currentStep = 5;
        let completedSteps = 4;
        
        function updateProgress() {
            const progressPercentage = (completedSteps / 16) * 100;
            document.querySelector('.progress-fill').style.width = progressPercentage + '%';
            document.getElementById('current-step').textContent = Math.min(currentStep, 16);
        }
        
        function toggleStep(element) {
            const stepCard = element.closest('.step-card');
            const stepDetails = stepCard.querySelector('.step-details');
            
            if (stepDetails) {
                const isVisible = stepDetails.style.display !== 'none';
                stepDetails.style.display = isVisible ? 'none' : 'block';
            }
        }
        
        function takePhoto(button) {
            // Simulate photo capture
            button.classList.add('taken');
            button.innerHTML = `
                <svg class="small-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20,6 9,17 4,12"/>
                </svg>
                Photo Taken
            `;
            
            // Add photo thumbnail
            const photoGallery = button.closest('.step-details').querySelector('.photo-gallery') || 
                                 createPhotoGallery(button.closest('.step-details'));
            const thumbnail = document.createElement('div');
            thumbnail.className = 'photo-thumbnail';
            thumbnail.textContent = '📷';
            photoGallery.appendChild(thumbnail);
        }
        
        function createPhotoGallery(container) {
            const gallery = document.createElement('div');
            gallery.className = 'photo-gallery';
            container.appendChild(gallery);
            return gallery;
        }
        
        function toggleCheckbox(element) {
            const checkbox = element.querySelector('.checkbox');
            const checkIcon = checkbox.querySelector('svg');
            const stepCard = element.closest('.step-card');
            
            if (checkbox.classList.contains('checked')) {
                checkbox.classList.remove('checked');
                checkIcon.style.display = 'none';
                stepCard.classList.remove('completed');
                stepCard.classList.add('active');
                completedSteps = Math.max(completedSteps - 1, 0);
            } else {
                checkbox.classList.add('checked');
                checkIcon.style.display = 'block';
                stepCard.classList.remove('active');
                stepCard.classList.add('completed');
                
                // Update step number to show checkmark
                const stepNumber = stepCard.querySelector('.step-number');
                stepNumber.innerHTML = '✓';
                
                // Update status icon
                const statusIcon = stepCard.querySelector('.step-status');
                statusIcon.innerHTML = `
                    <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20,6 9,17 4,12"/>
                    </svg>
                `;
                
                completedSteps++;
                currentStep = Math.min(currentStep + 1, 16);
                
                // Activate next step
                const nextStepCard = stepCard.nextElementSibling;
                if (nextStepCard && nextStepCard.classList.contains('step-card')) {
                    nextStepCard.classList.add('active');
                }
            }
            
            updateProgress();
        }
        
        // Initialize
        updateProgress();
        
        // Show details for active step
        document.querySelector('.step-card.active .step-header').click();
        
        function completeInstallation() {
            if (completedSteps === 16) {
                alert('Installation completed! All steps finished. Redirecting to dashboard...');
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1000);
            } else {
                alert(`Please complete all installation steps. ${completedSteps}/16 steps completed.`);
            }
        }
    </script>
</body>
</html>